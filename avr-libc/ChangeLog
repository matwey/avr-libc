2006-03-02 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/stdio.h: Fix example source code.

2006-02-28 Anatoly Sokolov <aesok@post.ru>

	* include/avr/io.h: Define __AVR_HAVE_LPMX__.
	* common/macros.inc: Define __AVR_HAVE_LPMX__.
	(LPM_R0_ZP): Use __AVR_HAVE_LPMX__.
	* include/avr/pgmspace.h: Use __AVR_HAVE_LPMX__.
	* libm/fplib/fplib.inc(mLPMRdZpp): Use __AVR_HAVE_LPMX__.

2006-02-26 Anatoly Sokolov <aesok@post.ru>

	* include/avr/io.h: Define __AVR_HAVE_MOVW__.
	* common/macros.inc: Define __AVR_HAVE_MOVW__.
	(X_movw):  Use __AVR_HAVE_MOVW__.
	* include/avr/eeprom.h (eeprom_write_word): Use __AVR_HAVE_MOVW__.

2006-02-07 Anatoly Sokolov <aesok@post.ru>

	* libm/fplib/dtostrf.S: Use X_movw when possible. 
	Use RCALL instead XCALL for calling 'pow' and 'ldexp' functions.

2006-02-02 Anatoly Sokolov <aesok@post.ru>

	* include/avr/signal.h: Include <avr/interrupt.h> file.
	[Fixed bug #15574]

2006-02-02 Anatoly Sokolov <aesok@post.ru>

	* include/avr/boot.h: Corrected a choice __boot_xxx macros.
	[Fixed bug #15559]

2006-01-31 Anatoly Sokolov <aesok@post.ru>

	* include/avr/iotnx4.h (GPIOR0): Rename from GPI0R0.
	* include/avr/iotnx5.h (GPIOR0): (Ditto.).
	* include/avr/iotnx61.h (GPIOR0): (Ditto.).
	[Fixed bug #15595]

2006-01-30 Anatoly Sokolov <aesok@post.ru>

	* configure.ac: add tests for the ATmega406 support.
	* devtools/gen-avr-lib-tree.sh: add support for ATmega406.
	* include/avr/io.h: (Ditto.).
	* include/avr/wdt.h: (Ditto.).
	* include/avr/iotm406.h: new file.
	* include/avr/Makefile.am: include new files.
	* doc/api/main_page.dox: Document support for ATmega406.
	* doc/api/using-tools.dox: (Ditto.)
 	* xml/patch-headers.py: add ATmega406.
	* doc/api/vectortable.dox: regenerate using patch-headers.py.

2006-01-29 Anatoly Sokolov <aesok@post.ru>

	* doc/api/main_page.dox: Move AT90CANxxx devices to Misc group.
	[Fixed bug #15519] 
	* include/avr/iotn2313.h (SIG_OUTPUT_COMPARE0A): Rename from 
	SIG_OUTPUT_COPMARE0A.
	[Fixed bug #15522]

2006-01-22 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Fix bug #15494: Compile warning and errors if compiler flag
	-Wundef flag specified
	* include/inttypes.h: turn #if on undefined macros into #ifdef.
	* include/stdint.h: always define __USING_MINT8 (to 0 or 1).
	* include/avr/boot.h: use __USING_MINT8 the new way.

2006-01-22 Anatoly Sokolov <aesok@post.ru>

	* include/avr/iotn2313.h (SPM_PAGESIZE): Add. 
	* include/avr/iotn24.h (SPM_PAGESIZE): (Ditto.).
	* include/avr/iotn25.h (SPM_PAGESIZE): (Ditto.).
	* include/avr/iotn261.h (SPM_PAGESIZE): (Ditto.).
	* include/avr/iotn44.h (SPM_PAGESIZE): (Ditto.).
	* include/avr/iotn45.h (SPM_PAGESIZE): (Ditto.).
	* include/avr/iotn461.h (SPM_PAGESIZE): (Ditto.).
	* include/avr/iotn84.h (SPM_PAGESIZE): (Ditto.).
	* include/avr/iotn85.h (SPM_PAGESIZE): (Ditto.).
	* include/avr/iotn861.h (SPM_PAGESIZE): (Ditto.).

2006-01-09 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* Makefile.am (EXTRA_DIST): add ChangeLog-2005.

2006-01-09 Anatoly Sokolov <aesok@post.ru>

	* libm/fplib/acos.S : Use XCALL/XJMP instead RCALL/RJMP 
	for calling __addsf3/__subsf3/__mulsf3/__divsf3 functions.
	* libm/fplib/cosh.S : (Ditto.).
	* libm/fplib/exp.S : (Ditto.).
	* libm/fplib/fmod.S : (Ditto.).
	* libm/fplib/fp_cosinus.S : (Ditto.).
	* libm/fplib/log.S : (Ditto.).
	* libm/fplib/log10.S : (Ditto.).
	* libm/fplib/pow.S : (Ditto.).
	* libm/fplib/sin.S : (Ditto.).
	* libm/fplib/sinh.S : (Ditto.).
	* libm/fplib/strtod.S : (Ditto.).
	* libm/fplib/tan.S : (Ditto.).
	* libm/fplib/tanh.S : (Ditto.).
	* libm/fplib/modf.S : Use XCALL/XJMP instead RCALL/RJMP 
	__addsf3/__fixsfsi/__floatsisf functions.
	* libm/fplib/asin.S : Use RCALL/RJMP instead XCALL/XJMP 
	for calling __fp_nanEDOM/__fp_powerseries functions.
	* libm/fplib/atan.S : Use RCALL/RJMP instead XCALL/XJMP 
	for calling __fp_inverse/square functions.
	* libm/fplib/atan2.S : Use RCALL/RJMP instead XCALL/XJMP 
	for calling __fp_nanERANGE/atan functions.

2006-01-06 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Submitted by Galen Seitz:
	* avr-libc.spec.in: Fixed examples installation.
 
2006-01-06 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* doc/examples/Makefile.am: Fix the source directory for
	example installation so it will work when starting from
	outside $(top_srcdir).  This fixes "make distcheck".
	* include/avr/pgmspace.h: Add a warning about the _P()
	functions not working above 64 KB.

2006-01-06 Anatoly Sokolov <aesok@post.ru>

	* /libm/fplib/sqrt.S: Use __addsf3/__divsf3 instead 
	__addsf3x/__divsf3x.

2006-01-06 Anatoly Sokolov <aesok@post.ru>

	(Contributed by Dmitry Xmelkov.)
	* libm/fplib/ldexp.S: Fix error if 'exp' argument > 32640.

2006-01-05 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* xml/patch-headers.py: add ATtinyX61, catch errors for
	non-existent ALT_NAME sections in interrupt vector table
	* doc/api/vectortable.dox: regenerate using patch-headers.py.

2006-01-05 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Extend the simple demo project to a boatload full of
	different AVRs: ATmega164/324/644, ATtiny261/461/861,
	ATmega165, ATmega169, ATmega325x/645x, ATmega329x/649x
	* doc/examples/demo/Makefile: Document all supported devices.
	* doc/examples/demo/demo.c: make variables local to ISR, use
	TIMER1_PWM_INIT to setup TCCR1A.
	* doc/examples/demo/demo.dox: Document TIMER1_PWM_INIT,
	swap notes 2 and 3.
	* doc/examples/demo/iocompat.h: Add support for all mentioned
	devices.

2006-01-04 Anatoly Sokolov <aesok@post.ru>

	* configure.ac: add tests for the ATtiny261/461/861 support.
	* devtools/gen-avr-lib-tree.sh: add support for ATtiny261/461/861.
	* include/avr/io.h: (Ditto.).
	* include/avr/wdt.h: (Ditto.).
	* include/avr/iotn24.h: new file.
	* include/avr/iotn44.h: new file.
	* include/avr/iotn84.h: new file.
	* include/avr/iotnx4.h: new file.
	* include/avr/Makefile.am: include new files.
	* doc/api/main_page.dox: Document support for ATtiny261/461/861.
	* doc/api/using-tools.dox: (Ditto.)

2006-01-03 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Changes to the demo projects and their documentation.
	Partially based on ideas submitted by Mark J Elkins.
	* doc/examples/Makefile.am: Include largedemo-wiring2.jpg.
	* doc/examples/all-demos.dox: Document the prerequisites for
	the demos.
	* doc/examples/demo/Makefile: Add dependency from iocompat.h.
	* doc/examples/demo/demo.c: Port the simple demo to ATmega8515,
	ATmega8535, ATtiny2313, ATtinyX4, ATtinyX5, and ATtiny26.
	* doc/examples/demo/iocompat.h: (Ditto.)
	* doc/examples/demo/demo.dox: Describe iocompat.h in greater
	detail, fix some \section statements, add section with
	reference to source code.
	* doc/examples/largedemo/Makefile: Include largedemo-wiring2.jpg.
	* doc/examples/largedemo/largedemo-setup.jpg: Don't use the
	"squid" cable as it is not part of the STK500 (but of the JTAG
	ICE), use jumper cables instead.
	* doc/examples/largedemo/largedemo-wiring.jpg: (Ditto.)
	* doc/examples/largedemo/largedemo.dox: (Ditto.)
	* doc/examples/largedemo/largedemo.c: Fix a bug that caused the
	PWMDDR to be clobbered for ATmega16 MCUs so LED1 and 2 did not
	work.
	* doc/examples/stdiodemo/stdiodemo.dox: Add comment about the
	V5 pin on the LCD.
	* doc/examples/largedemo/largedemo-wiring2.jpg: New file.

2006-01-03 Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	* include/avr/iotnx4.h: Fix the spelling of the OCR1A/B
	registers.

For older changes see ChangeLog-2005
